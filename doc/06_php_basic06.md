## PHP入門編6:多次元配列を理解しよう
### 目次
[6-1_多次元配列の概要](#6-1_多次元配列の概要)</br>
[6-2_2次元配列を作成する](#6-2_2次元配列を作成する)</br>
[6-3_2次元配列を操作する1](#6-3_2次元配列を操作する1)</br>
[6-4_2次元配列を操作する2](#6-4_2次元配列を操作する2)</br>
[6-5_2次元配列をループで処理する](#6-5_2次元配列をループで処理する)</br>
[6-6_2次元配列をarrayで作成する](#6-6_2次元配列をarrayで作成する)</br>

***

### 6-1_多次元配列の概要
2次元配列を理解しよう
- **データ構造とは**</br>
  データの集まりを格納するフォーマットの事。</br>
  </br>
  - 変数</br>
    $player = "勇者";</br>
    </br>
  - 配列</br>
    $player[] = "勇者”;</br>
    </br>
  - 連想配列</br>
    $hp["勇者"] = 120;</br>
    </br>
  - 2次元配列</br>
    $worldmap[1][2] = "城";</br>
    </br>

- 2次元配列の用途</br>
  - RPGのマップ
  - 写真・イラストなどのイメージ
  -  ゲームの盤面
  -  表形式のデータ
  -  3D-CGの空間座標 など
</br>

***

### 6-2_2次元配列を作成する
実はphpは**array関数を使わなくても配列ができる**。</br>
```php
<?php
//これまでは $teamA = array("ピカチュウ","カイリュー","ヤドラン");としていたが
$teamA = ["ピカチュウ","カイリュー","ヤドラン"];  //でもできる。
echo $teamA[0].',';
echo $teamA[1].',';
echo $teamA[2]."\n";
?>
```
↓出力結果
```
ピカチュウ,カイリュー,ヤドラン
```
</br>

また、phpにおいては**配列に配列を入れる事も可能**である。</br>
```php
<?php
$teamB = ["ヒトカゲ","リザード","リザードン"];
$teamC = ["ゼニガメ","カメール","カメックス"];
$teamD = ["フシギダネ","フシギソウ","フシギバナ"];
$teams = [$teamB,$teamC,$teamD];
print_r($teams);    // 配列の中の配列を出力(この場合だと3つの配列が出力される)
echo $teams[0][0].",";  // 配列の中の配列を個別に出力
echo $teams[1][1].',';
echo $teams[2][2] . "\n";
?>
```
↓出力結果
```
Array
(
    [0] => Array
        (
            [0] => ヒトカゲ
            [1] => リザード
            [2] => リザードン
        )

    [1] => Array
        (
            [0] => ゼニガメ
            [1] => カメール
            [2] => カメックス
        )

    [2] => Array
        (
            [0] => フシギダネ
            [1] => フシギソウ
            [2] => フシギバナ
        )

)
ヒトカゲ,カメール,フシギバナ
```
</br>

***

### 6-3_2次元配列を操作する1
2次元配列は事前に配列にまとめなくても直接定義して作成する事ができる。
```php
<?php
$teams = [
  ["ヒトカゲ","リザード","リザードン"],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"]
];
print_r($teams);    // 配列の中の配列を出力(この場合だと3つの配列が出力される)
echo $teams[0][0].",";  // 配列の中の配列を個別に出力
echo $teams[1][1].',';
echo $teams[2][2] . "\n";
?>
```
↓出力結果
```
Array
(
    [0] => Array
        (
            [0] => ヒトカゲ
            [1] => リザード
            [2] => リザードン
        )

    [1] => Array
        (
            [0] => ゼニガメ
            [1] => カメール
            [2] => カメックス
        )

    [2] => Array
        (
            [0] => フシギダネ
            [1] => フシギソウ
            [2] => フシギバナ
        )

)
ヒトカゲ,カメール,フシギバナ
```
</br>

次に2次元配列の操作について行う。</br>
通常の配列と同様に値を更新する事が可能。</br>
```php
<?php
$teams = [
  ["ヒトカゲ","リザード",],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"],
  ["リザードン"]
];
$teams[0][0] =  "アチャモ";  // 値を更新
print_r($teams); 
echo $teams[0][0]. "\n";  
echo $teams[1][1]. "\n";
echo $teams[2][2]. "\n";
echo count($teams)."\n";
echo count($teams[0])."\n";
?>
```
↓出力結果
```php
Array
(
    [0] => Array
        (
            [0] => アチャモ
            [1] => リザード
        )

    [1] => Array
        (
            [0] => ゼニガメ
            [1] => カメール
            [2] => カメックス
        )

    [2] => Array
        (
            [0] => フシギダネ
            [1] => フシギソウ
            [2] => フシギバナ
        )

    [3] => Array
        (
            [0] => リザードン
        )

)
アチャモ
カメール
フシギバナ
4
2
```

***

### 6-4_2次元配列を操作する2
2次元配列の削除を行う。削除にはこれまでの配列同様に**unset関数**を用いる。
```php
<?php
$teams = [
  ["ヒトカゲ","リザード",],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"],
  ["リザードン"]
];
$teams[] = ["ポッポ","コラッタ","キャタピー"];
$teams[0][0] =  "アチャモ";
unset($teams[1]); // 2次元配列内の配列を削除
unset($teams[2][2]); // 2次元配列内の配列の中の値を削除

print_r($teams); 
?>
```
↓出力結果
```
Array
(
    [0] => Array
        (
            [0] => アチャモ
            [1] => リザード
        )

    [2] => Array
        (
            [0] => フシギダネ
            [1] => フシギソウ
        )

    [3] => Array
        (
            [0] => リザードン
        )

    [4] => Array
        (
            [0] => ポッポ
            [1] => コラッタ
            [2] => キャタピー
        )

)
```

***

### 6-5_2次元配列をループで処理する
2次元配列の中身をループで取得する。配列の中に配列があるのでループが2重になる。
```php
<?php
$teams = [
  ["ヒトカゲ","リザード", "リザードン"],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"],
];
for($i = 0; $i < count($teams); $i ++){
  for($j = 0; $j < count($teams[$i]); $j ++){
    echo $i; // とりあえず配列の番号を出力してみる。
    echo $j;
    echo " ";
    }
  echo "\n";
  echo "---\n";
}
?>
```
↓出力結果
```
00 01 02 
---
10 11 12 
---
20 21 22 
---
```
</br>

これを各値を出力するように変更。
```php
<?php
$teams = [
  ["ヒトカゲ","リザード", "リザードン"],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"],
];
for($i = 0; $i < count($teams); $i ++){
  for($j = 0; $j < count($teams[$i]); $j ++){
    // echo $i;
    // echo $j;
    // echo " ";
    echo $teams[$i][$j]." "; //このように記載
    }
  echo "\n";
  echo "---\n";
}
?>
```
↓出力結果
```
ヒトカゲ リザード リザードン 
---
ゼニガメ カメール カメックス 
---
フシギダネ フシギソウ フシギバナ 
---
```
</br>

この記述は**foreach文**を用いてより簡潔に記述することができる。
```php
<?php
$teams = [
  ["ヒトカゲ","リザード", "リザードン"],
  ["ゼニガメ","カメール","カメックス"],
  ["フシギダネ","フシギソウ","フシギバナ"],
];
foreach($teams as $team){
  foreach($team as $monster){
    echo $monster.' ';
  }
  echo "\n";
  echo "---\n";
}
?>
```
↓出力結果
```
ヒトカゲ リザード リザードン 
---
ゼニガメ カメール カメックス 
---
フシギダネ フシギソウ フシギバナ 
---
```
と、for文を用いた際と同様の出力ができる。
</br>

6-5_演習課題3
各要素を3倍にして新しい配列を作成する
```php
<?php
$numbers = [12, 34, 56, 78, 90];

// ここに、各要素を3倍にして新しい配列を作成するコードを記述する
foreach($numbers as $value){
  $numbers2[] = $value * 3;
}
print_r($numbers2);
?>
```
↓出力結果
```
Array
(
    [0] => 36
    [1] => 102
    [2] => 168
    [3] => 234
    [4] => 270
)
```

***

### 6-6_2次元配列をarrayで作成する
arrayでも2次元配列を作成する事が可能。
```php
<?php
$teams = array(
  array("ヒトカゲ","リザード", "リザードン"),
  array("ゼニガメ","カメール","カメックス"),
  array("フシギダネ","フシギソウ","フシギバナ")
);

foreach($teams as $row){      //外側のforeachで各配列を取り出し
  foreach($row as $column){   //中側のforeachで各配列の値を取り出す
    echo $column.' ';         //取り出した値を間にスペースを入れて出力
}
echo "\n";                    //各配列ごとに改行
}
echo "---\n";                 //出力の最後に---を出力
?>
```
↓出力結果
```
ヒトカゲ リザード リザードン 
ゼニガメ カメール カメックス 
フシギダネ フシギソウ フシギバナ 
---
```